{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from 'axios';\nexport var baseURL = window.location.href || process.env.BASE_URL || 'https://rewarddemo.herokuapp.com';\nconsole.log('live from', baseURL);\nexport var makeApiCall = function makeApiCall(axiosConfigObj) {\n  var config = _objectSpread(_objectSpread({}, axiosConfigObj), {}, {\n    baseURL: baseURL\n  });\n\n  return new Promise(function (resolve, reject) {\n    return axios(config).then(function (_ref) {\n      var data = _ref.data;\n      return resolve(data);\n    })[\"catch\"](function (err) {\n      return reject(err);\n    });\n  });\n};\nexport var inviteUser = function inviteUser(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var url, resp;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              url = \"/sendinvite\";\n              resp = null;\n              _context.next = 5;\n              return makeApiCall({\n                url: url,\n                headers: {\n                  Authorization: \"\"\n                },\n                method: 'post',\n                data: data\n              });\n\n            case 5:\n              resp = _context.sent;\n              return _context.abrupt(\"return\", resolve(resp));\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              return _context.abrupt(\"return\", reject(_context.t0));\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n};\nexport var deleteUser = function deleteUser(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var url, resp;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              url = \"/staffs/\".concat(data.email);\n              resp = null;\n              _context2.next = 5;\n              return makeApiCall({\n                url: url,\n                headers: {\n                  Authorization: \"\"\n                },\n                method: 'delete',\n                data: data\n              });\n\n            case 5:\n              resp = _context2.sent;\n              return _context2.abrupt(\"return\", resolve(resp));\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              return _context2.abrupt(\"return\", reject(_context2.t0));\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 9]]);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n};\nexport var getUsers = function getUsers() {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resolve, reject) {\n      var url, resp;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              url = \"/staffs\";\n              resp = null;\n              _context3.next = 5;\n              return makeApiCall({\n                url: url,\n                headers: {\n                  Authorization: \"\"\n                },\n                method: 'get'\n              });\n\n            case 5:\n              resp = _context3.sent;\n              return _context3.abrupt(\"return\", resolve(resp));\n\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](0);\n              return _context3.abrupt(\"return\", reject(_context3.t0));\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 9]]);\n    }));\n\n    return function (_x5, _x6) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};","map":{"version":3,"sources":["/mnt/c/Users/arash/Documents/DevInDoc/Getaboard/demoEmail/reward-test/src/utils/api.ts"],"names":["axios","baseURL","window","location","href","process","env","BASE_URL","console","log","makeApiCall","axiosConfigObj","config","Promise","resolve","reject","then","data","err","inviteUser","url","resp","headers","Authorization","method","deleteUser","email","getUsers"],"mappings":"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","sourcesContent":["import axios from 'axios'\n\nexport const baseURL =\n  window.location.href ||\n  process.env.BASE_URL ||\n  'https://rewarddemo.herokuapp.com'\n\nconsole.log('live from', baseURL)\n\nexport const makeApiCall = (axiosConfigObj) => {\n  const config = {\n    ...axiosConfigObj,\n    baseURL,\n  }\n  return new Promise((resolve, reject) => {\n    return axios(config)\n      .then(({ data }) => {\n        return resolve(data)\n      })\n      .catch((err) => {\n        return reject(err)\n      })\n  })\n}\n\nexport const inviteUser = (data) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const url = `/sendinvite`\n      let resp = null\n      resp = await makeApiCall({\n        url,\n        headers: { Authorization: `` },\n        method: 'post',\n        data,\n      })\n      return resolve(resp)\n    } catch (error) {\n      return reject(error)\n    }\n  })\n}\nexport const deleteUser = (data) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const url = `/staffs/${data.email}`\n      let resp = null\n      resp = await makeApiCall({\n        url,\n        headers: { Authorization: `` },\n        method: 'delete',\n        data,\n      })\n      return resolve(resp)\n    } catch (error) {\n      return reject(error)\n    }\n  })\n}\n\nexport const getUsers = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const url = `/staffs`\n      let resp = null\n      resp = await makeApiCall({\n        url,\n        headers: { Authorization: `` },\n        method: 'get',\n      })\n      return resolve(resp)\n    } catch (error) {\n      return reject(error)\n    }\n  })\n}\n"]},"metadata":{},"sourceType":"module"}